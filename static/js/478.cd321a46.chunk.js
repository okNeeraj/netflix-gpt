"use strict";(self.webpackChunknetflix_gpt=self.webpackChunknetflix_gpt||[]).push([[478],{2478:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var s=n(9439),r=n(9434),a=n(3748),i=n(184),o=function(){var e=(0,r.v9)((function(e){return e.search})),t=e.gptResults,n=e.movies;return t?(0,i.jsx)(i.Fragment,{children:t.map((function(e,t){return(0,i.jsx)(a.Z,{heading:e,data:n[t]},e)}))}):null},c=n(2791),l=n(4165),u=n(5861),d=new(n(1859).ZP)({apiKey:"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",dangerouslyAllowBrowser:!0}),p=n(6275),m=n(7264),x=n(7250),h=n(9823),f=function(e){var t,n,a=e.searchOpacity,o=(0,r.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email})),f=(0,c.useState)(o),v=(0,s.Z)(f,2),g=v[0],y=(v[1],(0,c.useState)(!1)),b=(0,s.Z)(y,2),j=b[0],w=b[1],k=(0,c.useState)(""),S=(0,s.Z)(k,2),N=S[0],Z=S[1],R=(0,r.I0)(),F=function(e,n){return(t=t||(0,u.Z)((0,l.Z)().mark((function e(t,n){var s,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p.mf,"/search/").concat(t,"?query=").concat(n,"&language=en-US&page=1"),p.bl);case 3:return s=e.sent,e.next=6,s.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching movies:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"px-4 md:px-12 py-3 text-white max-w-4xl text-center m-auto mt-12",children:[(0,i.jsx)("h1",{className:"text-3xl md:text-5xl mb-3 font-bold",children:"Let AI be your Movie Guru!"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm md:text-lg",children:"Discover Family-Friendly Flicks for a Perfect Movie Night"})]}),(0,i.jsx)("div",{className:"px-4 md:px-12 py-3 sticky top-[68px] z-[99999]",style:{background:"rgba(20, 20, 20, ".concat(a,")")},children:(0,i.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsxs)("div",{className:"text-white relative w-full",children:[(0,i.jsx)("span",{className:"icon-fill text-gray-400 text-[22px] md:mt-0 md:text-[36px] absolute left-4 top-[16px] md:top-5 hidden md:block",children:(0,i.jsx)(x.Z,{style:{fontSize:"32px"}})}),(0,i.jsx)("input",{type:"text",placeholder:"Search Movies, Show and more",className:"py-4 md:py-6 pl-4 pr-12 md:px-14 w-full bg-gray-600 bg-opacity-70 rounded focus:bg-opacity-100 focus-visible:outline-none text-lg",onChange:function(e){Z(e.target.value)},value:N}),N&&(0,i.jsx)("span",{className:"icon-fill text-[28px] mt-0 md:text-[36px] absolute right-4 top-4 md:top-5 cursor-pointer",onClick:function(){Z("")},children:(0,i.jsx)(h.Z,{style:{fontSize:"32px"}})})]}),(0,i.jsx)("button",{className:"py-4 md:py-6 w-24 px-2 md:px-5 flex items-center justify-center bg-red-primary rounded text-white disabled:bg-red-800",onClick:function(){return(n=n||(0,u.Z)((0,l.Z)().mark((function e(){var t,n,s,r,a,i,o,c,u,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),"gpt@gmail.com"!==g){e.next=22;break}return e.prev=2,s="\n        Act as a movie recommendation system and suggest some movies for the query : ".concat(N,".\n        Only give me name of 5 movies with comma seperated.\n        result should always look like - Spider Man, Elemental, Phir Hera Pheri\n      "),e.next=6,d.chat.completions.create({messages:[{role:"user",content:s}],model:"gpt-3.5-turbo"});case 6:return r=e.sent,a=null===r||void 0===r||null===(t=r.choices[0])||void 0===t||null===(n=t.message)||void 0===n?void 0:n.content.split(", "),i=a.map((function(e){return F("movie",e)})),e.next=11,Promise.all(i);case 11:(o=e.sent)&&w(!1),R((0,m.S)({searchResults:a,actionType:"gptResults"})),R((0,m.S)({searchResults:o,actionType:"movies"})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("Error:",e.t0);case 20:e.next=30;break;case 22:return u=(c=[N]).map((function(e){return F("movie",e)})),e.next=26,Promise.all(u);case 26:(p=e.sent)&&w(!1),R((0,m.S)({searchResults:c,actionType:"gptResults"})),R((0,m.S)({searchResults:p,actionType:"movies"}));case 30:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)},disabled:""===N,children:j?(0,i.jsx)("div",{className:"w-5 h-5 border-t m border-gray-300 border-solid rounded-full animate-spin"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"icon-fill text-[22px] md:text-[32px] md:hidden",children:(0,i.jsx)(x.Z,{style:{fontSize:"28px"}})}),(0,i.jsx)("span",{className:"hidden md:inline-block",children:"Search"})]})})]}),(0,i.jsxs)("p",{className:"text-xs mt-1",children:["Note: Movie recommendations powered by GPT are available on request due to paid APIs.",(0,i.jsx)("a",{href:"https://www.linkedin.com/in/okneerajsingh/",target:"_blank",rel:"noreferrer",className:"ml-2 text-sm text-gray-400 hover:text-gray-200",children:"Request now"})]})]})})]})},v=function(){var e=(0,c.useState)(1),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,c.useState)(0),l=(0,s.Z)(a,2),u=l[0],d=l[1],p=function(){var e=window.scrollY;r(e<70?1-e/70:0),d(0===n?1:0)};return(0,c.useEffect)((function(){return window.addEventListener("scroll",p),function(){window.removeEventListener("scroll",p)}}),[n]),(0,i.jsxs)("div",{className:"search-page",children:[(0,i.jsx)("div",{className:"bg-skin w-full h-[430px] absolute top-0 -z-0 bg-gradient-to-b from-indigo-800 to-[#141414] transition-colors",style:{opacity:"".concat(n)}}),(0,i.jsxs)("div",{className:"search relative",children:[(0,i.jsx)(f,{searchOpacity:u}),(0,i.jsx)("div",{className:"mt-3 px-4 md:px-12 py-3 min-h-[700px]",children:(0,i.jsx)(o,{})})]})]})}},7264:function(e,t,n){n.d(t,{S:function(){return r}});var s=(0,n(9829).oM)({name:"search",initialState:{gptResults:null,movies:null,shows:null},reducers:{setGptSearch:function(e,t){var n=t.payload,s=n.actionType,r=n.searchResults;e[s]=r}}}),r=s.actions.setGptSearch;t.Z=s.reducer}}]);
//# sourceMappingURL=478.cd321a46.chunk.js.map